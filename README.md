# 🤖 PearAI 仓库模板

这是一个专为 PearAI 设计的仓库模板，包含结构化的规则文件和计划文件，便于在与 PearAI 对话时自动读取、解析和修改项目计划。

## ✨ 模板特性

- 📋 **结构化计划管理** - 使用 YAML 格式的版本化计划文件
- 📖 **规则约定文档** - 明确的项目管理规则和 PearAI 交互准则
- 🤖 **PearAI 友好** - 优化的文件结构，支持智能读取和修改
- 🔄 **版本控制** - 支持语义化版本管理的计划文件
- 📝 **模板复用** - 提供完整的模板文件便于创建新计划
- 🧠 **智能工作流** - AI 自动判断版本增长和模块化编码
- 🧪 **测试规范** - 包含完整的测试和开发规范

## 📁 目录结构

```sh
.roo/
└── rules/
    └── rules.md       # 项目规则和PearAI交互约定
plan/
├── 0.0.0.yaml         # 示例计划文件（v0.0.0）
└── template.yaml      # 计划文件模板
```

## ⚠️ 重要提醒

**环境变量读取警告：** PearAI会自动读取项目中的`.env`、`.env.local`等环境变量文件以获取配置信息。如果您不希望某些敏感文件被AI读取，请在项目根目录创建`.rooignore`文件并添加相应的忽略规则。

示例`.rooignore`文件内容：

```txt
.env
.env.local
.env.production
secrets/
private/
```

## 🚀 快速开始

### 1️⃣ 使用模板

- 🔧 直接在此仓库基础上开发项目
- 📋 或者复制文件到你的项目中

### 2️⃣ 确定技术栈

**首次使用时必须完成：**

- 📝 确定主要开发语言（如 JavaScript 、 Python 、 Java 等）
- 🏗️ 选择前端框架（如 React 、 Vue 、 Angular 等）
- ⚙️ 选择后端框架（如 Express 、 Django 、 Spring 等）
- 🗄️ 确定数据库类型（如 MySQL 、 PostgreSQL 、 MongoDB 等）
- 🚀 选择部署平台（如 Docker 、 AWS 、 Vercel 等）
- 🛠️ 确定其他工具和依赖

**配置方式：**

```txt
💬 "请帮我配置技术栈：使用React作为前端框架，Node.js + Express作为后端，MySQL作为数据库"
```

### 3️⃣ 配置规则

- ✏️ 编辑 `.roo/rules/rules.md`
- 📝 添加项目特定的规则和约定
- 🔧 技术栈信息会自动更新到规则文件中

### 4️⃣ 创建计划

- 📄 复制 `plan/template.yaml`
- 🏷️ 重命名为版本号（如 `1.0.0.yaml`）
- ✍️ 填入具体的项目目标和任务

### 5️⃣ 开始协作

```txt
💬 "请读取当前项目计划，并添加一个新目标：实现用户登录功能"
```

## 🔄 PearAI 工作流程

### 📖 第一步：读取规则

PearAI 会首先读取 `.roo/rules/rules.md` 文件，了解项目规则和工作方式

### 📋 第二步：管理计划

- 🆕 根据用户需求创建或修改计划文件
- 🔢 AI 智能判断版本号增长策略：
  - 🚀 **主版本** (1.0.0 → 2.0.0) - 重大功能变更或架构调整
  - ⭐ **次版本** (1.0.0 → 1.1.0) - 新功能添加
  - 🔧 **修订版** (1.0.0 → 1.0.1) - 错误修复或小幅改进
- 💬 将一个对话中的多个要求整合到同一计划文件

### 🏗️ 第三步：模块化编码

- 🧱 根据计划文件中定义的目标和任务进行结构化开发
- ✂️ 采用分块分步的编码方式，避免一次性生成过长代码
- 🔍 自动检查和使用项目中的环境变量配置

## 🧪 测试规范

根据最新的规则文件，项目包含以下测试规范：

### 🎯 测试环境配置

- **环境变量读取** - 测试时自动检查`.env`文件，获取测试用户名和密码
- **安全配置** - 敏感信息通过`.rooignore`排除，避免泄露
- **环境感知** - AI自动识别测试环境配置

### 🔄 测试执行规范

- **端口管理** - 测试完成后必须释放端口，避免端口占用
- **实例清理** - 测试实例（无论成功或失败）必须正确关闭
- **完成确认** - 不结束测试实例不允许结束任务

### 🛡️ 测试最佳实践

- **分步测试** - 复杂功能分模块测试，确保每个部分独立验证
- **环境隔离** - 测试环境与生产环境配置分离
- **结果验证** - 测试后提供明确的验证步骤和预期结果

## 💡 使用提示

### 🎯 与 PearAI 对话的最佳实践

1. **🎯 首次配置技术栈**

   ```txt
   "请帮我配置项目技术栈：前端使用React，后端使用Node.js和Express，数据库使用PostgreSQL"
   ```

2. **📚 让 PearAI 先读取规则**

   ```txt
   "请先读取项目规则文件，然后帮我..."
   ```

3. **📝 描述你的需求**

   ```txt
   "我需要添加用户认证功能，包括登录、注册和密码重置"
   ```

4. **🔄 让 AI 管理版本**

   ```txt
   "根据这些变更的规模，请更新计划文件版本"
   ```

5. **🏗️ 基于计划开发**

   ```txt
   "请根据当前计划文件进行模块化开发，采用分块编码的方式"
   ```

6. **🧪 测试相关指令**

   ```txt
   "请帮我运行测试，完成后记得清理测试实例和释放端口"
   "检查.env文件中的测试配置，然后执行登录功能测试"
   ```

### 📋 常用命令示例

#### 📖 读取当前状态

```txt
"显示当前项目的主要目标和进度"
"读取最新版本的计划文件"
```

#### ✏️ 修改计划

```txt
"添加新目标：实现数据导出功能，优先级为中等"
"将任务T001的状态改为已完成"
"创建新的1.2.0版本计划，添加以下功能..."
```

#### 🔧 开发协作

```txt
"根据计划文件实现用户模块，请分块进行编码"
"检查当前代码是否符合计划要求"
"读取.env文件中的数据库配置进行连接测试"
```

#### 🧪 测试协作

```txt
"帮我配置测试环境并运行用户认证测试"
"测试完成后清理所有测试实例"
"验证端口是否已正确释放"
```

#### 🎯 技术栈配置

```txt
"显示当前项目的技术栈配置"
"根据技术栈生成项目初始化代码"
```

## 📄 文件说明

- 📋 **.roo/rules/rules.md** - 包含项目管理规则、版本控制约定、 PearAI 交互准则、测试规范等
- 📊 **plan/x.y.z.yaml** - 版本化的项目计划，包含目标、里程碑、任务等
- 📝 **plan/template.yaml** - 创建新计划时的参考模板

## 🎯 支持的操作

- ✅ 自动读取和解析计划文件
- ✅ 根据自然语言添加/修改目标
- ✅ 更新任务状态和优先级
- ✅ 智能版本号管理
- ✅ 创建新版本的计划文件
- ✅ 生成项目进度报告
- ✅ 验证计划文件格式
- ✅ 模块化代码开发
- ✅ 对话需求整合
- ✅ 测试环境自动配置
- ✅ 测试实例生命周期管理

## 🌟 高级功能

### 🔄 智能版本管理

AI 会根据变更规模自动选择合适的版本号增长策略，无需手动判断。

### 💬 对话整合

可以在一次对话中提出多个需求， AI 会智能整合到同一个计划文件中。

### 🏗️ 模块化开发

基于计划文件进行结构化、模块化的代码实现，确保开发与规划一致。

### 📈 进度跟踪

自动生成项目进度报告，实时了解目标完成情况。

### 🧪 智能测试管理

- 自动检测测试环境配置
- 智能管理测试实例生命周期
- 确保测试后资源正确清理

## 🔧 技术说明

### 📝 关于 YAML Schema 警告

如果在 VSCode 中看到 YAML 文件的 schema 警告（如 AWS CloudFormation 相关错误），这是正常现象。我们的计划文件使用自定义格式，不是 CloudFormation 模板。

**解决方案：**

1. **已包含配置** - 仓库中的`.vscode/settings.json`文件已配置排除这些警告
2. **Schema 注释** - 计划文件顶部的`# yaml-language-server: $schema=`注释告诉VSCode这不是CloudFormation模板
3. **忽略警告** - 这些警告不影响文件功能，可以安全忽略

### 🎨 自定义扩展

- 可以在`plan/template.yaml`中添加新的字段结构
- 规则文件支持项目特定的约定和要求
- 支持多种优先级和状态标记系统
- 测试规范可以根据项目需求进行扩展

## 📜 许可证

本项目采用 [MIT](LICENSE) 许可证。

---

🤖 *专为 PearAI 优化的智能项目管理模板* ✨
一个用于 PearAI 等 AI IDE 的模板仓库
